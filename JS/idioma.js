const traducciones = {
    es: {
        login: {
            titulo: "CulteX | Inicio de Sesión",
            correo: "Correo electrónico",
            contrasena: "Contraseña",
            iniciarSesion: "Iniciar sesión",
            registrarse: "Regístrate",
            cambiarIdioma: "Cambiar idioma",
            centroAyuda: "Centro de ayuda",
            derechos: "Todos los derechos reservados.",
            seleccionIdioma: "Selecciona el idioma"
        },
        register: {
            titulo: "CulteX | Registrarse",
            nombreCompleto: "Nombre completo",
            nombreUsuario: "Nombre de usuario",
            correo: "Correo electrónico",
            contrasena: "Contraseña",
            repetirContrasena: "Repetir contraseña",
            fechaNacimiento: "Fecha de nacimiento",
            registrarse: "Registrarse",
            iniciarSesion: "Inicia sesión",
            cambiarIdioma: "Cambiar idioma",
            centroAyuda: "Centro de ayuda",
            derechos: "Todos los derechos reservados.",
            seleccionIdioma: "Selecciona el idioma"
        },
        centroDeAyuda: {
            titulo: "CulteX | Centro de Ayuda",
            atras: "Atrás",
            preguntas: "Preguntas Frecuentes",
            pregunta1: "¿Cómo creo una cuenta en CulteX?",
            respuesta1: "Para crear una cuenta, dirígete a la página de registro y completa el formulario con tus datos personales. Una vez completado, puedes iniciar sesión.",
            pregunta2: "¿Cómo puedo restablecer mi contraseña?",
            respuesta2: "Si olvidaste tu contraseña, puedes restablecerla haciendo clic en 'Olvidé mi contraseña' en la página de inicio de sesión. Ingresa tu correo electrónico, donde te llevará a la página de cambio de contraseña.",
            pregunta3: "¿Cómo puedo editar mi perfil?",
            respuesta3: "Para editar tu perfil, inicia sesión y dirígete a la sección 'Mi perfil'. Allí podrás cambiar tu foto de perfil, actualizar tu biografía y modificar tus preferencias de privacidad.",
            pregunta4: "¿Cómo funciona el sistema de amigos?",
            respuesta4: "Puedes enviar solicitudes de amistad a otros usuarios de CulteX. Cuando la persona acepte tu solicitud, podrán ver las publicaciones de cada uno, comentar y compartir contenido de manera más cercana.",
            pregunta5: "¿Cómo puedo eliminar mi cuenta?",
            respuesta5: "Si deseas eliminar tu cuenta, puedes hacerlo desde la sección de 'Configuración de la cuenta'. Ten en cuenta que esta acción es irreversible y se eliminarán todos tus datos, publicaciones y contactos.",
            cambiarIdioma: "Cambiar idioma",
            derechos: "Todos los derechos reservados.",
            seleccionIdioma: "Selecciona el idioma"
        },
        inicio: {
            titulo: "CulteX | Inicio",
            buscar: "Buscar...",
            noNotificaciones: "No tienes nuevas notificaciones.",
            perfil: "Perfil",
            bloqueados:"Bloqueados",
            configuracion:"Configuración",
            idioma:"Idioma",
            centroAyuda: "Centro de ayuda",
            cerrarSesion:"Cerrar sesión",
            grupos: "Grupos",
            derechos: "Todos los derechos reservados.",
            eventos: "Eventos",
            verTodos:"Ver todos",
            mesEvento: "",
            masInfo: "Mas info",
            publicidad: "Publicidad",
            amigos: "Amigos",
            crearPost: "Crear nuevo post",
            requiereFotoVideo: "Se requiere subir una foto o video.",
            ningunArchivoSelec: "Ningún archivo seleccionado",
            publicar: "Publicar",
            cancelar: "Cancelar",
            seleccionIdioma: "Selecciona el idioma",
        },
        perfil: {
            titulo: "CulteX | Inicio",
            buscar: "Buscar...",
            noNotificaciones: "No tienes nuevas notificaciones.",
            perfil: "Perfil",
            bloqueados:"Bloqueados",
            configuracion:"Configuración",
            idioma:"Idioma",
            centroAyuda: "Centro de ayuda",
            cerrarSesion:"Cerrar sesión",
            grupos: "Grupos",
            posts: "Publicaciones",
            derechos: "Todos los derechos reservados.",
            eventos: "Eventos",
            verTodos:"Ver todos",
            masInfo: "Mas info",
            NombreUsuario: "Nombre de Usuario",
            NombreCompleto: "Nombre Completo",
            biografia: "Biografia",
            fecha_nacimiento: "Fecha de Nacimiento",
            ImagenPerfil: "Imagen de Perfil",
            guardar: "Guardar",
            amigos: "Amigos",
            crearPost: "Crear nuevo post",
            requiereFotoVideo: "Se requiere subir una foto o video.",
            ningunArchivoSelec: "Ningún archivo seleccionado",
            publicar: "Publicar",
            cancelar: "Cancelar",
            seleccionIdioma: "Selecciona el idioma",
            editarPerfil: "Editar Perfil",
            nombreUsuario: "Nombre de usuario",
            nombreCompleto: "Nombre completo",
            ciudad: "Ciudad",
            pais: "País",
            fecha_nacimiento: "Fecha de Nacimiento",
            biografia: "Biografía",
            ImagenPerfil: "Imagen de perfil",
            vive: "Vive:",
            nacio: "Nació:",
            actualizado: "¡Actualizado!",
            correctamentePerfil: "Has actualizado correctamente tu perfil.",
            aceptar: "Aceptar",
            error: "¡Error!",
            problemaPerfil:"Hubo un problema al actualizar el perfil."
        },

    },
    en: {
        login: {
            titulo: "CulteX | Login",
            correo: "Email",
            contrasena: "Password",
            iniciarSesion: "Login",
            registrarse: "Sign Up",
            cambiarIdioma: "Change Language",
            centroAyuda: "Help Center",
            derechos: "All rights reserved.",
            seleccionIdioma: "Select the language"
        },
        register: {
            titulo: "CulteX | Sign Up",
            nombreCompleto: "Full Name",
            nombreUsuario: "Username",
            correo: "Email",
            contrasena: "Password",
            repetirContrasena: "Repeat Password",
            fechaNacimiento: "Date of Birth",
            registrarse: "Sign Up",
            iniciarSesion: "Log In",
            cambiarIdioma: "Change Language",
            centroAyuda: "Help Center",
            derechos: "All rights reserved.",
            seleccionIdioma: "Select the language"
        },
        centroDeAyuda: {
            titulo: "CulteX | Help Center",
            atras: "Back",
            preguntas: "Frequently Asked Questions",
            pregunta1: "How do I create an account on CulteX?",
            respuesta1: "To create an account, go to the registration page and complete the form with your personal information. Once completed, you can log in.",
            pregunta2: "How can I reset my password?",
            respuesta2: "If you forgot your password, you can reset it by clicking 'Forgot my password' on the login page. Enter your email, where it will take you to the change password page.",
            pregunta3: "How can I edit my profile?",
            respuesta3: "To edit your profile, log in and go to the 'My Profile' section. There you can change your profile photo, update your biography and modify your privacy preferences.",
            pregunta4: "How does the friends system work?",
            respuesta4: "You can send friend requests to other CulteX users. When the person accepts your request, you will be able to see each other's posts, comment, and share content more closely.",
            pregunta5: "How can I delete my account?",
            respuesta5: "If you want to delete your account, you can do so from the 'Account Settings' section. Please note that this action is irreversible and all your data, posts and contacts will be deleted.",
            cambiarIdioma: "Change language",
            derechos: "All rights reserved.",
            seleccionIdioma: "Select the language",
        },
        inicio: {
            titulo: "CulteX | Start",
            buscar: "Search...",
            noNotificaciones: "You have no new notifications.",
            perfil: "Profile",
            bloqueados:"Blocked",
            configuracion:"Settings",
            idioma:"Language",
            centroAyuda: "Help Center",
            cerrarSesion:"Logout",
            grupos: "Groups",
            derechos: "All rights reserved.",
            eventos: "Events",
            verTodos:"See all",
            mesEvento: "",
            masInfo: "More info",
            publicidad: "Advertising",
            amigos: "Friends",
            crearPost: "Create new post",
            requiereFotoVideo: "Uploading a photo or video is required.",
            ningunArchivoSelec: "No file selected",
            publicar: "Post",
            cancelar: "Cancel",
            seleccionIdioma: "Select the language",
        },
        perfil: {
            titulo: "CulteX | Start",
            buscar: "Search...",
            noNotificaciones: "You have no new notifications.",
            perfil: "Profile",
            bloqueados:"Blocked",
            configuracion:"Settings",
            idioma:"Language",
            centroAyuda: "Help Center",
            cerrarSesion:"Logout",
            posts:"Posts",
            grupos: "Groups",
            derechos: "All rights reserved.",
            eventos: "Events",
            verTodos:"See all",
            masInfo: "More info",
            NombreUsuario: "Username",
            NombreCompleto: "Full Name",
            biografia: "Biography",
            fecha_nacimiento: "Birth Date",
            ImagenPerfil: "Profile Picture",
            guardar: "Save",
            amigos: "Friends",
            crearPost: "Create new post",
            requiereFotoVideo: "Uploading a photo or video is required.",
            ningunArchivoSelec: "No file selected",
            publicar: "Post",
            cancelar: "Cancel",
            seleccionIdioma: "Select the language",
            editarPerfil: "Edit Profile",
            nombreUsuario: "Username",
            nombreCompleto: "Full name",
            ciudad: "City",
            pais: "Country",
            fecha_nacimiento: "Birthdate",
            biografia: "Biography",
            ImagenPerfil: "Profile picture",
            vive: "Live in:",
            nacio: "Was born:",
            actualizado: "¡Updated!",
            correctamentePerfil: "You have successfully updated your profile.",
            aceptar: "Accept",
            error: "¡Error!",
            problemaPerfil:"There was a problem updating the profile."
        },
    }
};

function cambiarIdioma(idioma, pagina) {
    const elementos = document.querySelectorAll("[data-trad]");
    elementos.forEach(el => {
        const clave = el.getAttribute("data-trad");

        // Verificar si el elemento es un input de búsqueda
        if (clave === "buscar" && el.tagName === "INPUT") {
            if (traducciones[idioma] && traducciones[idioma][pagina] && traducciones[idioma][pagina][clave]) {
                el.placeholder = traducciones[idioma][pagina][clave]; // Cambiar el placeholder
            }
        } else if (traducciones[idioma] && traducciones[idioma][pagina] && traducciones[idioma][pagina][clave]) {
            el.textContent = traducciones[idioma][pagina][clave]; // Cambiar el texto
        } else {
            console.warn(`No se encontró la traducción para: ${clave}`);
        }
    });
}

const modal = document.getElementById("languageModal");
const openModalBtn = document.getElementById("openModal");
const closeModalBtn = document.querySelector(".close");

openModalBtn.addEventListener("click", (event) => {
    event.preventDefault();
    modal.style.display = "block";
});

closeModalBtn.addEventListener("click", () => {
    modal.style.display = "none";
});

window.addEventListener("click", (event) => {
    if (event.target === modal) {
        modal.style.display = "none";
    }
});

window.addEventListener("keydown", (event) => {
    if (event.key === "Escape") {
        modal.style.display = "none";
    }
});

document.querySelectorAll('.language-option').forEach(button => {
    button.addEventListener('click', function() {
        const idioma = this.getAttribute('data-idioma');
        
        let pagina;
        if (window.location.pathname.includes("login")) {
            pagina = "login";
        } else if (window.location.pathname.includes("register")) {
            pagina = "register";
        } else if (window.location.pathname.includes("centroDeAyuda")) {
            pagina = "centroDeAyuda";
        } else if (window.location.pathname.includes("inicio")) {
            pagina = "inicio";
        } else if (window.location.pathname.includes("perfil")) {
            pagina = "perfil";
        } else {
            console.warn("No se pudo detectar la página actual.");
            return;
        }

        // Cambiar el idioma
        document.documentElement.lang = idioma;
        cambiarIdioma(idioma, pagina);
        localStorage.setItem('idioma', idioma);
        modal.style.display = "none";
    });
});